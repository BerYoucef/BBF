
    <div class="header-section">
        <div class="header-icon"></div>
        <h1 class="header-title">BBF Shop</h1>
        <p class="header-subtitle">Premium technology products with cutting-edge design and unmatched performance.</p>
    </div>

    <div class="main-container">
        <!-- search -->
             <div class="search-container">
                <div class="search-box-wrapper">

                <input type="text" class="search-box" placeholder="Search Anything ..." id="searchInput">
                <button class="search-button" id="searchBtn">
                    <svg class="search-icon" viewBox="0 0 24 24">
                        <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                    </svg>
                </button>
                </div>

            </div>
            <div id="search-result">
                <%- query %>
            </div>

        <div id="products" class="products-grid">
            <!-- Products -->
            <% products.forEach(p => { %>
            <div class="product-card">
                <div class="product-image">
                    <img src="<%= p.img %>" alt="">
                </div>
                <h3 class="product-title"><%= p.name %></h3>  <!-- Product Name -->
                <div class="product-price"><%= p.price %></div> <!-- Product Price -->
                <p class="product-description"><%= p.description %></p> <!-- Product Description -->
                <div class="product-rating">
                    <div class="stars">
                        <% for(let i=0; i<parseInt(p.stars); i++) { %>
                            <span class="star">â˜…</span>
                        <% } %>
                    </div>
                    <span class="rating-text">(<%= p.reviews %> reviews)</span>
                </div>
                <div class="product-tags">
                    <span class="tag"><%= p.tags.tag1 %></span>
                    <span class="tag"><%= p.tags.tag2 %></span>
                    <span class="tag"><%= p.tags.tag3 %></span>
                </div>
                
                    <a href="/product?productid=<%- p.id %>">
                        <button id="viewproduct" class="buy-button" >View Product</button>
                    </a>
                </div>
            <% }) %>
        </div>
    </div>


    <script>
        // Add stagger animation to product cards
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.product-card');
            cards.forEach((card, index) => {
                card.style.animationDelay = (index * 0.1) + 's';
            });
        });

        // Data of search box
        const searchInput = document.getElementById('searchInput');
        const searchBtn = document.getElementById('searchBtn');
        const resultsContainer = document.getElementById('resultsContainer');
        const resultsDiv = document.getElementById('results');

        async function performSearch() {
            const query = searchInput.value.trim().toLowerCase()
            const response = await fetch(`/search?q=${query}`);
            const search_result = document.getElementById('search-result');     

            if (response.ok) {
                window.location.href = `/search?q=${query}`;
            }
        }   
        // Search events
        searchBtn.addEventListener('click', performSearch);

        //searchInput.addEventListener('input', performSearch);

        searchInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                performSearch();
            }
        });

    </script>